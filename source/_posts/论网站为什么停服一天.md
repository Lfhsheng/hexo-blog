---
title: 论网站为什么停服一天
categories:
  - 网站搭建笔记
tags:
  - 随便写写
  - 踩坑
abbrlink: 8244
date: 2021-10-23 00:00:00
id: why-stop-serving-a-day
---

~~网站无法访问事件~~

# 问题的描述

## 起因

在2021-10-22到2021-10-23期间，网站无法访问（但[泠风寒声的Wiki](https://lfhshengwiki.github.io)却可以正常访问）。

<!-- more -->

## 细节描述

众所周知，~~真相只有一个~~，IP地址分[IPv4](https://baike.baidu.com/item/IPv4/422599)和[IPv6](https://baike.baidu.com/item/IPv6)，由于我家最近换路由器了，原来的路由器Ping的时候是返回IPv4的

```
C:\Users\lfhsheng>ping lfhsheng.github.io

正在 Ping lfhsheng.github.io [185.199.109.153] 具有 32 字节的数据:
来自 185.199.109.153 的回复: 字节=32 时间=64ms TTL=50
来自 185.199.109.153 的回复: 字节=32 时间=157ms TTL=50
来自 185.199.109.153 的回复: 字节=32 时间=59ms TTL=50
来自 185.199.109.153 的回复: 字节=32 时间=63ms TTL=50

185.199.109.153 的 Ping 统计信息:
    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，
往返行程的估计时间(以毫秒为单位):
    最短 = 59ms，最长 = 157ms，平均 = 85ms
```

但现在路由器返回的是IPv6

```
C:\Users\lfhsheng>ping lfhsheng.github.io

正在 Ping lfhsheng.github.io [2606:50c0:8000::153] 具有 32 字节的数据:
来自 2606:50c0:8000::153 的回复: 时间=110ms
请求超时。
请求超时。
来自 2606:50c0:8000::153 的回复: 时间=114ms

2606:50c0:8000::153 的 Ping 统计信息:
    数据包: 已发送 = 4，已接收 = 2，丢失 = 2 (50% 丢失)，
往返行程的估计时间(以毫秒为单位):
    最短 = 110ms，最长 = 114ms，平均 = 112ms
```

（似乎有点不稳定啊）

所以我在DNS选择的时候就选了IPv6

```
主机|类型|线路|记录值|MX优先级|TTL|备注
@	AAAA	默认	2606:50c0:8000::153	0	600	
```

接着……

## 过程

`嗯… 无法访问此页面`

`检查 lfhsheng.top 中是否存在拼写错误。`

`DNS_PROBE_FINISHED_NXDOMAIN`

~~我直接好家伙，然后把电脑砸了~~

（误）

以上的错误是在非我家的IP访问[泠风寒声的小窝](https://lfhsheng.github.io)所产生的，这个细节成为了这个~~案件~~事件的突破点。

# 解决方法

> 真実はいつもひとつ

![勇敢牛牛，不怕困难](https://lfhsheng.github.io/images/勇敢牛牛，不怕困难.jpg)

如果把IPv6的地址换成IPv4的地址呢？~~我可真聪明~~

1. 更换网络IP

2. 通过[命令提示符](https://baike.baidu.com/item/%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6/998728)使用`ping`语句获取网站的IP地址

   ```
   ping lfhsheng.github.io
   ```

   （将`lfhsheng.github.io`换成你想要获取IP的网站）

   （也可以使用`ping`语句来了解网站的访问速度、情况）

3. 在DNS后台替换IP地址

   ```
   主机|类型|线路|记录值|MX优先级|TTL|备注
   @	A	默认	185.199.109.153	0	600	
   ```

   （将`185.199.109.153`替换为你的IP地址）

4. 访问你的网站吧！

